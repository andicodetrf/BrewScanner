(this.webpackJsonprunreact=this.webpackJsonprunreact||[]).push([[0],{174:function(e,t,a){e.exports=a.p+"static/media/bottlecheers.1c5b124d.png"},179:function(e,t,a){e.exports=a(321)},184:function(e,t,a){},210:function(e,t){},212:function(e,t){},224:function(e,t){},226:function(e,t){},254:function(e,t){},256:function(e,t){},257:function(e,t){},263:function(e,t){},265:function(e,t){},283:function(e,t){},285:function(e,t){},297:function(e,t){},300:function(e,t){},317:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(34),l=a.n(s),c=(a(184),a(46)),o=a(12),i=a(13),m=a(15),u=a(14),d=a(19),h=a(7),g=a(16),p=a.n(g),f=a(324),E=a(325),b=a(167),v=a(168),y=a(332),N=a(326),S=a(327),k="https://brewscanner.herokuapp.com/api",w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={items:[],filterBy:"",filteredList:[],suppFilteredList:[],isFilterSupp:!1,searchKey:"",suppDisabled:!1,searchError:"",displaySort:[],lowestToggle:!1,highestToggle:!1,currentPage:1,itemsPerPage:12,cart:[]},e.fetchItems=function(){var t=localStorage.getItem("token");p.a.get("".concat(k,"/items"),{headers:{"x-auth-token":t}}).then((function(t){console.log(t.data),e.setState({items:t.data.items}),localStorage.setItem("items",JSON.stringify(t.data.items)),localStorage.setItem("timestamps",(new Date).toString())})).catch((function(e){return console.log(e)}))},e.searchList=function(t){e.setState({searchKey:t.target.value,lowestToggle:!1,highestToggle:!1});var a=[];e.state.isFilterSupp?a=e.state.suppFilteredList.filter((function(e){return e.itemName.toLowerCase().includes(t.target.value.toLowerCase())})):(e.setState({suppDisabled:!0}),a=e.state.items.filter((function(e){return e.itemName.toLowerCase().includes(t.target.value.toLowerCase())||e.itemUnit.toLowerCase().includes(t.target.value.toLowerCase())||e.itemFrom.toLowerCase().includes(t.target.value.toLowerCase())}))),0===t.target.value.length?(e.setState({filteredList:[]}),e.setState({suppDisabled:!1}),e.setState({searchError:""})):(e.setState({filteredList:a}),0===a.length?e.setState({searchError:"Not Found"}):e.setState({searchError:""}))},e.filterSupp=function(t){e.setState({filterBy:t.target.name,isFilterSupp:!0,lowestToggle:!1,highestToggle:!1});var a=e.state.items.filter((function(e){return e.itemFrom.match(t.target.name)}));a.length>0&&e.setState({suppFilteredList:a})},e.removeFilter=function(){e.setState({filterBy:""}),e.setState({isFilterSupp:!1}),e.setState({suppFilteredList:[]}),e.setState({filteredList:[]}),e.setState({searchKey:""}),e.setState({suppDisabled:!1}),e.setState({searchError:""})},e.showLowestHandler=function(t){e.setState({lowestToggle:!0,highestToggle:!1},(function(){return e.displaySortFn()}))},e.showHighestHandler=function(t){e.setState({highestToggle:!0,lowestToggle:!1},(function(){return e.displaySortFn()}))},e.displaySortFn=function(){if(e.setState({isFilterSupp:!1,filterBy:"",suppFilteredList:[]}),e.state.lowestToggle){var t=Object(c.a)(e.state.items);t.sort((function(e,t){return Number(e.itemPrice)-Number(t.itemPrice)})),e.setState({displaySort:t})}if(e.state.highestToggle){var a=Object(c.a)(e.state.items);a.sort((function(e,t){return Number(t.itemPrice)-Number(e.itemPrice)})),e.setState({displaySort:a})}},e.clearSortHandler=function(){e.setState({lowestToggle:!1,highestToggle:!1,displaySort:[]})},e.paginate=function(t){e.setState({currentPage:t})},e.mainAddToCart=function(t){e.props.addToCart(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("items"),t=Date.parse(localStorage.getItem("timestamps")),a=new Date,r=Math.abs(a-t),n=Math.floor(r/864e5);e&&n<2?(e=JSON.parse(e),this.setState({items:e})):this.fetchItems()}},{key:"render",value:function(){for(var e=this,t=this.state.isFilterSupp&&""===this.state.searchKey?this.state.suppFilteredList:this.state.filteredList.length>0?this.state.filteredList:this.state.displaySort.length>0?this.state.displaySort:this.state.items,a=this.state,r=a.currentPage,s=a.itemsPerPage,l=r*s,c=l-s,o=t.slice(c,l),i=[],m=1;m<=Math.ceil(t.length/s);m++)i.push(m);return n.a.createElement("div",{className:"home-page"},n.a.createElement("div",{className:"home-main"},n.a.createElement(f.a,{fluid:!0},n.a.createElement(E.a,{className:"mb-2"},n.a.createElement(b.a,{md:"2"}),n.a.createElement(b.a,{md:"5"},n.a.createElement(v.a,{className:"shadow-sm bg-white rounded",id:"searchbox",type:"text",name:"filter",value:this.state.searchKey,placeholder:"Search...",onChange:this.searchList})),n.a.createElement(b.a,{md:"5",id:"page-btn"},n.a.createElement("nav",{style:{display:"flex"}},n.a.createElement(d.b,{to:"/cart"},n.a.createElement("div",{className:"view-cart"},n.a.createElement("i",{className:"fas fa-cart-plus"}),n.a.createElement("span",{className:"badge badge-danger ml-2"},this.props.cartItemTotal))),n.a.createElement("ul",{className:"pagination shadow-sm transparent rounded"},i.map((function(t,a){return n.a.createElement("li",{key:t,className:"page-item "},n.a.createElement("a",{className:"page-link text-secondary",href:"#name",onClick:function(){return e.paginate(t)}}," ",t))})))))),n.a.createElement(E.a,null,n.a.createElement(b.a,{md:"2"},n.a.createElement(y.a,{className:"shadow p-3 rounded mb-2 bg-light"},n.a.createElement(y.a.Body,null,n.a.createElement("div",null,n.a.createElement("h6",null,"Searched:"),this.state.searchKey?n.a.createElement(N.a,{variant:"warning",className:"text-muted mb-3",size:"sm"},this.state.searchKey," ",n.a.createElement(N.a,{variant:"danger",size:"xs",onClick:this.removeFilter,style:{cursor:"pointer"}},"X")):null),n.a.createElement("div",null,n.a.createElement("h6",null,"Filtered:"),this.state.filterBy?n.a.createElement(N.a,{variant:"warning",className:"text-muted",size:"sm"},this.state.filterBy," ",n.a.createElement(N.a,{variant:"danger",size:"xs",onClick:this.removeFilter,style:{cursor:"pointer"}},"X")):null),n.a.createElement("hr",null),n.a.createElement("h6",null,"Filter By"),n.a.createElement(S.a,{variant:"outline-danger",className:"mr-2 mb-2",name:"FairPrice",onClick:this.filterSupp,disabled:this.state.suppDisabled?"disabled":null},"FairPrice"),n.a.createElement(S.a,{variant:"outline-dark",className:"mb-2",name:"Cold Storage",onClick:this.filterSupp,disabled:this.state.suppDisabled?"disabled":null},"Cold Storage"),n.a.createElement("hr",null),n.a.createElement("h6",null,"Sort By Price"),n.a.createElement(S.a,{variant:"outline-danger",className:"mr-2 mb-2",id:"lowTog",name:"lowestToggle",onClick:this.showLowestHandler,disabled:this.state.suppDisabled?"disabled":null},n.a.createElement("i",{className:"fas fa-sort-down fa-2x"})),n.a.createElement(S.a,{variant:"outline-dark",className:"mb-2",id:"highTog",name:"highestToggle",onClick:this.showHighestHandler,disabled:this.state.suppDisabled?"disabled":null},n.a.createElement("i",{className:"fas fa-sort-up fa-2x"})),this.state.lowestToggle||this.state.highestToggle?n.a.createElement(N.a,{variant:"danger",className:"ml-2",onClick:this.clearSortHandler,style:{cursor:"pointer"}},"X"):null))),n.a.createElement(b.a,{md:"10"},n.a.createElement(E.a,{className:"row-cols-1 row-cols-md-3",style:{border:"solid 2px transparent"}},this.state.searchError?this.state.searchError:o.map((function(t){return n.a.createElement(b.a,{key:t.itemID,md:"4"},n.a.createElement(y.a,{className:"mb-3 shadow mb-5 bg-white rounded",style:{minHeight:"24em"}},n.a.createElement(y.a.Img,{variant:"top",src:t.itemImgURL,height:"200px",style:{objectFit:"contain"}}),n.a.createElement(y.a.Body,{className:"text-sm"},t.itemName,n.a.createElement("div",null,t.itemUnit),n.a.createElement("div",null,"$",t.itemPrice),n.a.createElement("div",{className:"badge badge-dark"},n.a.createElement("a",{className:"text-white",href:t.itemOriURL},t.itemFrom))),n.a.createElement(y.a.Footer,{className:"text-right"},n.a.createElement("i",{className:"fas fa-cart-plus indi-cart",onClick:function(){return e.mainAddToCart(t)},id:t.itemID}))))}))))))))}}]),a}(r.Component),C=a(97),x=a.n(C),I=a(170),O=a(171),T=a.n(O),j=a(70),H="https://brewscanner.herokuapp.com/api";j.a.configure();var A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={totalCost:"0.00",order:""},e.removeItemFromCart=function(t){var a=t.quantity;e.props.removeItemCart(t);var r,n=e.state.totalCost-t.itemPrice;a>1?r=e.props.cart:1===t.quantity&&(r=e.props.cart.filter((function(e){return e.itemID!==t.itemID}))),e.setState({totalCost:n.toFixed(2),order:r})},e.submitTransactHandler=function(){var t=localStorage.getItem("token"),a=JSON.parse(localStorage.cart).belongsTo;console.log(a),p.a.post("".concat(H,"/transaction"),{orders:e.state.order,orderTotal:e.state.totalCost,transactionUserID:a},{headers:{"x-auth-token":t}}).then((function(t){console.log("order submitted to server"),e.clearCartHandler()})).catch((function(e){console.log(e)}))},e.clearCartHandler=function(){e.props.clearCart(),e.setState({totalCost:"0.00"})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.cart.map((function(e){return Number((e.itemPrice*e.quantity).toFixed(2))})).reduce((function(e,t){return e+t}),0);this.setState({totalCost:e.toFixed(2)}),this.setState({order:this.props.cart})}},{key:"handleToken",value:function(){var e=Object(I.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({token:t}),e.next=3,p.a.post("".concat(H,"/checkout"),{token:t});case 3:a=e.sent,"success"===a.data.status?Object(j.a)("Success! Check email for details",{type:"success"}):Object(j.a)("Ooops! It didn't go through",{type:"error"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{background:"rgb(240, 240, 240)",height:"89vh"}},n.a.createElement(f.a,null,n.a.createElement(E.a,null,n.a.createElement(b.a,{md:"8"},n.a.createElement(y.a,{className:"bg-dark text-light mt-5"},n.a.createElement(y.a.Header,null,n.a.createElement("h4",null,"Cart Items"),n.a.createElement("span",{className:"badge badge-danger",style:{cursor:"pointer"},onClick:this.clearCartHandler},"Clear All"))),this.props.cart.map((function(t){return n.a.createElement(y.a,{key:t.itemID},n.a.createElement(y.a.Body,{key:t.itemID},n.a.createElement("strong",null,t.itemName," - ",t.itemUnit," "),n.a.createElement("small",{className:"text-muted"}," - $",t.itemPrice),n.a.createElement("p",{className:"mt-3"},n.a.createElement(N.a,{variant:"success"},"$",(t.quantity*t.itemPrice).toFixed(2))),n.a.createElement(N.a,{variant:"warning"},"Quantity: ",t.quantity,n.a.createElement("span",{className:"badge badge-danger ml-3",variant:"danger",onClick:function(){e.removeItemFromCart(t)},style:{cursor:"pointer"}},n.a.createElement("i",{className:"fas fa-trash-alt"})))))})),n.a.createElement(y.a,{className:"bg-dark text-light"},n.a.createElement(y.a.Footer,{className:"text-right"},n.a.createElement("h4",null,"Total Cost:",n.a.createElement("span",{className:"ml-2 text-warning"},"$",this.state.totalCost))))),n.a.createElement(b.a,{md:"4"},n.a.createElement("div",{className:"text-center my-5"},n.a.createElement(T.a,{stripeKey:"".concat("pk_test_51HMwJhKdu4ArMRBcAOdSSRTuO1o9t58YVpGzOJ05LIr0sj7ikkduU6H9NcfzCMxJAEWu42Ph79WAMMMq35CX1qFl00aGXRuvgZ"),token:this.handleToken,billingAddress:!0,shippingAddress:!0,amount:100*this.state.totalCost,orderTotal:this.state.order}),n.a.createElement("div",{className:"mt-2"},n.a.createElement(d.b,{to:"/",className:"btn btn-outline-success shadow-sm rounded submit-order",onClick:this.submitTransactHandler},"Submit Order")))))))}}]),a}(r.Component),F=a(67),q=a(331),D=a(328),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={fullName:"",birthDate:"",address:"",email:"",password:"",regError:""},e.changeHandler=function(t){e.setState(Object(F.a)({},t.target.name,t.target.value))},e.childSignUpHandler=function(){e.state.password.length<5?e.setState({regError:"Minimum 5 characters required for Password"}):e.props.register(e.state),setTimeout((function(){e.setState({regError:""})}),3e3)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear()-18,s=t<10?"0".concat(t):t,l=a<10?"0".concat(a):a,c="".concat(r,"-").concat(l,"-").concat(s);return n.a.createElement("div",{className:"log-reg-cart-bg"},this.state.regError.length>0&&n.a.createElement(q.a,{variant:"danger"},this.state.regError),n.a.createElement(f.a,null,n.a.createElement(E.a,{className:"justify-content-md-center"},n.a.createElement(b.a,{md:"8"},n.a.createElement(E.a,{className:"mb-4 mt-4"},n.a.createElement("h3",null,"Registration")),n.a.createElement(D.a,null,n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Full Name"),n.a.createElement(D.a.Control,{name:"fullName",type:"text",placeholder:"John Doe",onChange:this.changeHandler,required:!0}),n.a.createElement("small",{className:"form-text text-muted"},"Required.")),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Date of Birth"),n.a.createElement(D.a.Control,{min:"1910-01-01",max:c,name:"birthDate",type:"date",onChange:this.changeHandler,required:!0}),n.a.createElement("small",{className:"form-text text-muted"},"Required.")),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Address"),n.a.createElement(D.a.Control,{name:"address",type:"text",placeholder:"79 Anson Rd",onChange:this.changeHandler,required:!0}),n.a.createElement("small",{className:"form-text text-muted"},"Required.")),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Email address"),n.a.createElement(D.a.Control,{name:"email",type:"email",placeholder:"johnny@gmail.com",onChange:this.changeHandler,required:!0}),n.a.createElement("small",{className:"form-text text-muted"},"Required.")),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Password"),n.a.createElement(D.a.Control,{name:"password",type:"password",onChange:this.changeHandler,required:!0}),n.a.createElement("small",{className:"form-text text-muted"},"Required. 5 characters minimum")),n.a.createElement(E.a,{className:"mb-5"},n.a.createElement(S.a,{variant:"info",block:!0,onClick:this.childSignUpHandler}," ","Register")))))))}}]),a}(r.Component),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.changeHandler=function(t){e.setState(Object(F.a)({},t.target.name,t.target.value))},e.childLoginHandler=function(){e.props.login(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"log-reg-cart-bg"},n.a.createElement(f.a,null,n.a.createElement(E.a,{className:"justify-content-md-center"},n.a.createElement(b.a,{md:"5"},n.a.createElement(E.a,{className:"mb-4 mt-4"},n.a.createElement("h3",null,"Log In")),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Email"),n.a.createElement(D.a.Control,{name:"email",type:"email",onChange:this.changeHandler})),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Password"),n.a.createElement(D.a.Control,{name:"password",type:"password",onChange:this.changeHandler})),n.a.createElement(E.a,null,n.a.createElement(S.a,{className:"mt-3",variant:"warning",block:!0,onClick:this.childLoginHandler}," ","Log In"))))))}}]),a}(r.Component),M=a(45),U=(a(317),"https://brewscanner.herokuapp.com/api"),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={user:"",address:""},e.getUser=function(t){p.a.get("".concat(U,"/auth/user"),{headers:{"x-auth-token":t}}).then((function(t){e.setState({user:t.data.user,address:t.data.user.address})})).catch((function(e){console.log(e)}))},e.changeHandler=function(t){e.setState({address:t.target.value})},e.editUserHandler=function(){var t=localStorage.getItem("token");console.log("t",t),p.a.put("".concat(U,"/auth/user"),{address:e.state.address},{headers:{"x-auth-token":t}}).then((function(a){console.log("done"),e.getUser(t)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&(Object(M.decode)(e)?this.getUser(e):localStorage.removeItem("token"))}},{key:"render",value:function(){var e,t,a,r;if(this.state.user.birthDate){var s=new Date(this.state.user.birthDate);e=s.toDateString().substring(4),t=s.getDate(),a=s.toLocaleString("default",{month:"short"}),r=s.getFullYear(),e="".concat(t," ").concat(a," ").concat(r)}return n.a.createElement("div",{className:"element-outer"},n.a.createElement(f.a,null,n.a.createElement(E.a,{className:"justify-content-md-center"},n.a.createElement(b.a,{md:"5"},n.a.createElement(E.a,{className:"mb-4"},n.a.createElement("div",{className:"element"},this.state.user.fullName),n.a.createElement("div",{className:"element"},"Born ",e),n.a.createElement("div",{className:"element"},this.state.user.email),n.a.createElement("div",{className:"element"},this.state.user.address)),n.a.createElement(E.a,{className:"mb-4"},n.a.createElement(D.a.Label,null,"Update Address?"),n.a.createElement(D.a.Control,{name:"address",type:"text",value:this.state.address,onChange:this.changeHandler}),n.a.createElement(S.a,{className:"mt-3 shadow-sm rounded",variant:"warning",block:!0,onClick:this.editUserHandler},"Update"))))))}}]),a}(r.Component),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={orderHistory:[]},e.getTransactions=function(){var t=localStorage.getItem("token");p.a.get("".concat("https://brewscanner.herokuapp.com/api","/transaction"),{headers:{"x-auth-token":t}}).then((function(t){console.log(t.data),e.setState({orderHistory:t.data.finalT})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTransactions()}},{key:"render",value:function(){return n.a.createElement("div",{style:{background:"darkslategrey",height:"89vh"}},n.a.createElement(f.a,null,n.a.createElement("h3",{className:"text-center text-white pt-5 pb-3"},"Order History"),this.state.orderHistory.length>0?this.state.orderHistory.map((function(e,t){return n.a.createElement(y.a,{key:t,className:"mb-3"},n.a.createElement(y.a.Header,null,n.a.createElement(N.a,{variant:"success",style:{fontSize:"15px",marginRight:"5px"}},"Paid on ",e.createdAt.substring(0,10)),n.a.createElement(N.a,{variant:"danger",style:{fontSize:"15px"}},"Total : $",e.orderTotal.toFixed(2))),n.a.createElement(y.a.Body,null,e.orders.map((function(e,t){return n.a.createElement("li",{key:t},e.itemName," - ",e.itemUnit,"  ",n.a.createElement("span",{className:"badge badge-dark"},e.quantity," x $",e.itemPrice.toFixed(2)," per unit")," ")}))))})):null))}}]),a}(r.Component),J=a(330),_=a(329),K=a(174),z=a.n(K);var $=function(e){var t=e.user,a=e.logout;return n.a.createElement(J.a,{bg:"dark",expand:"lg",variant:"dark"},n.a.createElement(J.a.Brand,{href:"/"},n.a.createElement("img",{src:z.a,id:"navlogo",alt:"",height:"40px",width:"40px"}),"BrewScanner"),n.a.createElement(J.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(J.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(_.a,{className:"mr-auto"},n.a.createElement(d.b,{className:"nav-link",to:"/"},n.a.createElement("i",{className:"fas fa-home navbar-fa"}))),n.a.createElement(_.a,null,t?n.a.createElement(n.a.Fragment,null,n.a.createElement(d.b,{className:"nav-link nav-view-cart",to:"/cart"},n.a.createElement("i",{className:"fas fa-shopping-cart"})),n.a.createElement(d.b,{to:"/orderHistory",className:"nav-link"},n.a.createElement("i",{className:"fas fa-history"})),n.a.createElement(d.b,{to:"/editprofile",className:"nav-link"},n.a.createElement("i",{className:"fas fa-user-circle navbar-fa"})),n.a.createElement(d.b,{to:"/editprofile",className:"nav-link"},n.a.createElement("div",{className:"nav-items-hover"},t.fullName)),n.a.createElement(d.b,{onClick:a,to:"/logout",className:"nav-link"},n.a.createElement("div",{className:"nav-items-hover"},"Log Out"))):n.a.createElement(n.a.Fragment,null,n.a.createElement(d.b,{to:"/login",className:"nav-link"},n.a.createElement("div",{className:"nav-items-hover"},"Log In"))))))},W=(a(318),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).mount=!0,e.state={isAbove18:!1,qod:"",qodAuthor:""},e.changeHandler=function(t){e.setState({isAbove18:!e.state.isAbove18})},e.getQOD=function(){p.a.get("http://quotes.rest/qod.json?category=inspire").then((function(t){e.mount&&e.setState({qod:t.data.contents.quotes[0].quote,qodAuthor:t.data.contents.quotes[0].author})})).catch((function(e){return console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getQOD()}},{key:"componentWillUnmount",value:function(){this.mount=!1}},{key:"render",value:function(){return n.a.createElement("div",{className:"main-landing"},n.a.createElement("div",{className:"landing-bg"},n.a.createElement("div",{className:"typewriter"},n.a.createElement("h1",null,"Scanning for your cheapest brew! ",n.a.createElement("i",{className:"fas fa-glass-cheers"}))),n.a.createElement("div",{className:"none-type"},n.a.createElement("h1",null,"Scanning for your cheapest brew! ",n.a.createElement("i",{className:"fas fa-glass-cheers"}))),n.a.createElement(y.a,{className:"qod-card text-dark text-left"},n.a.createElement(y.a.Header,null,n.a.createElement("i",{className:"fas fa-quote-left"})),n.a.createElement(y.a.Body,{className:"cardbody"},n.a.createElement("blockquote",{className:"blockquote mb-0"},n.a.createElement("p",null,this.state.qod))),n.a.createElement(y.a.Footer,{className:"text-right"},n.a.createElement("footer",{className:"blockquote-footer"},this.state.qodAuthor,n.a.createElement("span",{className:"tss"},n.a.createElement("img",{src:"https://theysaidso.com/branding/theysaidso.png",height:"20",width:"20",alt:"theysaidso.com"}),n.a.createElement("a",{href:"https://theysaidso.com",title:"Powered by quotes from theysaidso.com"},"They Said So\xae"))))),n.a.createElement("section",{className:"arrow animate__animated animate__fadeInDown"},n.a.createElement("a",{href:"#age-sect-id",className:""},n.a.createElement("i",{className:"fas fa-angle-down fa-5x"})))),n.a.createElement("section",{className:"age-section",id:"age-sect-id"},n.a.createElement("div",{className:"badge badge-danger py-2 px-2 checkbox"},n.a.createElement("input",{type:"checkbox",name:"checkAge",onChange:this.changeHandler})," Are you above 18?"),n.a.createElement("div",{id:"eligible-reg"},this.state.isAbove18?n.a.createElement("a",{href:"/register",className:"mt-3 animate__animated animate__slideInUp btn btn-outline-warning"},"Sign Up"):null)))}}]),a}(r.Component)),X=a(178);var Q=function(e){var t=e.component,a=e.isAuth,r=Object(X.a)(e,["component","isAuth"]);return n.a.createElement(h.b,Object.assign({},r,{render:function(e){return a?n.a.createElement(t,Object.assign({},e,r)):n.a.createElement(h.a,{to:"/landing"})}}))},Y=(a(319),"https://brewscanner.herokuapp.com/api"),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={items:[],errorMessage:null,isAuth:!1,user:null,cart:[],cartItem:0},e.addToCart=function(t){var a,r,n=Object(c.a)(e.state.cart),s=n.findIndex((function(e){return e.itemID===t.itemID}));-1!==s?n[s].quantity+=1:(t.quantity=1,n.push(t)),r=0,n.forEach((function(e){r+=e.quantity})),a=r;var l=Object(M.decode)(localStorage.token),o=JSON.stringify({belongsTo:l.user.id,cart:n}),i=a;localStorage.setItem("cart",o),localStorage.setItem("cartItemTotal",i),e.setState({cart:n,cartItem:i})},e.removeToCart=function(t){var a=Object(c.a)(e.state.cart),r=a.findIndex((function(e){return e.itemID===t.itemID}));if(-1!==r){a[r].quantity>1?a[r].quantity-=1:a.splice(r,1);var n=0;a.forEach((function(e){n+=e.quantity}));var s=Object(M.decode)(localStorage.token),l=JSON.stringify({belongsTo:s.user.id,cart:a});localStorage.setItem("cart",l),localStorage.setItem("cartItemTotal",n),e.setState({cart:a,cartItem:n})}},e.clearTransaction=function(){localStorage.removeItem("cart"),localStorage.removeItem("cartItemTotal"),e.setState({cart:[],cartItem:0})},e.getUserProfile=function(t){p.a.get("".concat(Y,"/auth/user"),{headers:{"x-auth-token":t}}).then((function(t){if(null!=localStorage.getItem("cart")){for(var a=JSON.parse(localStorage.cart),r=0,n=0;n<a.cart.length;n++)r+=a.cart[n].quantity;localStorage.setItem("cartItemTotal",r),a.belongsTo==t.data.user._id.toString()&&e.setState({isAuth:!0,user:t.data.user,cart:a.cart,cartItem:r})}else localStorage.removeItem("cart"),localStorage.removeItem("cartItemTotal"),e.setState({isAuth:!0,user:t.data.user,cartItem:0})})).catch((function(e){}))},e.loginHandler=function(t){p.a.post("".concat(Y,"/auth/login"),t).then((function(t){localStorage.setItem("token",t.data.token),e.getUserProfile(t.data.token),e.setState({isAuth:!0})})).catch((function(t){e.setState({isAuth:!1,errorMessage:t.response.data.message}),setTimeout((function(){e.setState({errorMessage:null})}),3e3)}))},e.registerHandler=function(t){p.a.post("".concat(Y,"/auth/register"),t).then((function(t){localStorage.setItem("token",t.data.token),e.getUserProfile(t.data.token),e.setState({isAuth:!0})})).catch((function(t){e.setState({isAuth:!1,errorMessage:t.response.data.message}),setTimeout((function(){e.setState({errorMessage:null})}),3e3)}))},e.logoutHandler=function(t){t.preventDefault(),console.log("loggedout"),e.setState({items:[],errorMessage:null,isAuth:!1,user:null}),localStorage.removeItem("token")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&(Object(M.decode)(e)?this.getUserProfile(e):localStorage.removeItem("token"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isAuth,r=t.user,s=t.errorMessage;return n.a.createElement(d.a,null,n.a.createElement("div",{className:"overall"},n.a.createElement($,{user:r,logout:this.logoutHandler}),s&&n.a.createElement(q.a,{variant:"danger"},s),n.a.createElement(h.d,null,n.a.createElement(Q,{exact:!0,path:"/",isAuth:a,cartItemTotal:this.state.cartItem,cart:this.state.cart,addToCart:this.addToCart,component:w}),n.a.createElement(Q,{exact:!0,path:"/cart",isAuth:a,removeItemCart:this.removeToCart,clearCart:this.clearTransaction,cart:this.state.cart,addToCart:this.addToCart,component:A}),n.a.createElement(Q,{exact:!0,path:"/editprofile",isAuth:a,component:B}),n.a.createElement(Q,{exact:!0,path:"/orderHistory",isAuth:a,component:R}),n.a.createElement(h.b,{path:"/register",exact:!0,render:function(){return a?n.a.createElement(h.a,{to:"/"}):n.a.createElement(L,{register:e.registerHandler})}}),n.a.createElement(h.b,{path:"/login",exact:!0,render:function(){return a?n.a.createElement(h.a,{to:"/"}):n.a.createElement(P,{login:e.loginHandler})}}),n.a.createElement(h.b,{path:"/landing",exact:!0,render:function(){return a?n.a.createElement(h.a,{to:"/"}):n.a.createElement(W,null)}}))),n.a.createElement("footer",{className:"site-footer"},"Made with ",n.a.createElement("i",{className:"fas fa-heart"})," - Andi L",n.a.createElement("a",{href:"https://www.linkedin.com/in/andrea-lau-al/"},n.a.createElement("i",{className:"fab fa-linkedin"}))," ",n.a.createElement("a",{href:"https://github.com/andicodetrf/BrewScanner"},n.a.createElement("i",{className:"fab fa-github"}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(320);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.0abb77d5.chunk.js.map