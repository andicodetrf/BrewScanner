(this.webpackJsonprunreact=this.webpackJsonprunreact||[]).push([[0],{174:function(e,t,a){e.exports=a.p+"static/media/bottlecheers.1c5b124d.png"},179:function(e,t,a){e.exports=a(322)},184:function(e,t,a){},210:function(e,t){},212:function(e,t){},224:function(e,t){},226:function(e,t){},254:function(e,t){},256:function(e,t){},257:function(e,t){},263:function(e,t){},265:function(e,t){},283:function(e,t){},285:function(e,t){},297:function(e,t){},300:function(e,t){},317:function(e,t,a){},318:function(e,t){e.exports="data:image/png;base64,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"},319:function(e,t,a){},320:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(34),l=a.n(s),o=(a(184),a(46)),c=a(12),i=a(13),m=a(15),u=a(14),d=a(19),h=a(7),g=a(16),f=a.n(g),p=a(325),E=a(326),b=a(167),v=a(168),y=a(333),A=a(327),N=a(328),S="https://brewscanner.herokuapp.com/api",w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={items:[],filterBy:"",filteredList:[],suppFilteredList:[],isFilterSupp:!1,searchKey:"",suppDisabled:!1,searchError:"",displaySort:[],lowestToggle:!1,highestToggle:!1,currentPage:1,itemsPerPage:12,cart:[]},e.fetchItems=function(){var t=localStorage.getItem("token");f.a.get("".concat(S,"/items"),{headers:{"x-auth-token":t}}).then((function(t){console.log(t.data),e.setState({items:t.data.items}),localStorage.setItem("items",JSON.stringify(t.data.items)),localStorage.setItem("timestamps",(new Date).toString())})).catch((function(e){return console.log(e)}))},e.searchList=function(t){e.setState({searchKey:t.target.value,lowestToggle:!1,highestToggle:!1});var a=[];e.state.isFilterSupp?a=e.state.suppFilteredList.filter((function(e){return e.itemName.toLowerCase().includes(t.target.value.toLowerCase())})):(e.setState({suppDisabled:!0}),a=e.state.items.filter((function(e){return e.itemName.toLowerCase().includes(t.target.value.toLowerCase())||e.itemUnit.toLowerCase().includes(t.target.value.toLowerCase())||e.itemFrom.toLowerCase().includes(t.target.value.toLowerCase())}))),0===t.target.value.length?(e.setState({filteredList:[]}),e.setState({suppDisabled:!1}),e.setState({searchError:""})):(e.setState({filteredList:a}),0===a.length?e.setState({searchError:"Not Found"}):e.setState({searchError:""}))},e.filterSupp=function(t){e.setState({filterBy:t.target.name,isFilterSupp:!0,lowestToggle:!1,highestToggle:!1});var a=e.state.items.filter((function(e){return e.itemFrom.match(t.target.name)}));a.length>0&&e.setState({suppFilteredList:a})},e.removeFilter=function(){e.setState({filterBy:""}),e.setState({isFilterSupp:!1}),e.setState({suppFilteredList:[]}),e.setState({filteredList:[]}),e.setState({searchKey:""}),e.setState({suppDisabled:!1}),e.setState({searchError:""})},e.showLowestHandler=function(t){e.setState({lowestToggle:!0,highestToggle:!1},(function(){return e.displaySortFn()}))},e.showHighestHandler=function(t){e.setState({highestToggle:!0,lowestToggle:!1},(function(){return e.displaySortFn()}))},e.displaySortFn=function(){if(e.setState({isFilterSupp:!1,filterBy:"",suppFilteredList:[]}),e.state.lowestToggle){var t=Object(o.a)(e.state.items);t.sort((function(e,t){return Number(e.itemPrice)-Number(t.itemPrice)})),console.log(t),e.setState({displaySort:t})}if(e.state.highestToggle){var a=Object(o.a)(e.state.items);a.sort((function(e,t){return Number(t.itemPrice)-Number(e.itemPrice)})),console.log(a),e.setState({displaySort:a})}},e.clearSortHandler=function(){e.setState({lowestToggle:!1,highestToggle:!1,displaySort:[]})},e.paginate=function(t){e.setState({currentPage:t})},e.mainAddToCart=function(t){e.props.addToCart(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("items"),t=Date.parse(localStorage.getItem("timestamps")),a=new Date,n=Math.abs(a-t),r=Math.floor(n/864e5);e&&r<2?(e=JSON.parse(e),console.log(localStorage.items),this.setState({items:e})):this.fetchItems()}},{key:"render",value:function(){var e=this;console.log("Home: ");for(var t=this.state.isFilterSupp&&""===this.state.searchKey?this.state.suppFilteredList:this.state.filteredList.length>0?this.state.filteredList:this.state.displaySort.length>0?this.state.displaySort:this.state.items,a=this.state,n=a.currentPage,s=a.itemsPerPage,l=n*s,o=l-s,c=t.slice(o,l),i=[],m=1;m<=Math.ceil(t.length/s);m++)i.push(m);return console.log("state now: ",this.state.items),console.log("current items list",c),console.log("displayList",t),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"home-main"},r.a.createElement(p.a,{fluid:!0},r.a.createElement(E.a,{className:"mb-2"},r.a.createElement(b.a,{md:"2"}),r.a.createElement(b.a,{md:"5"},r.a.createElement(v.a,{className:"shadow-sm bg-white rounded",id:"searchbox",type:"text",name:"filter",value:this.state.searchKey,placeholder:"Search...",onChange:this.searchList})),r.a.createElement(b.a,{md:"5",id:"page-btn"},r.a.createElement("nav",{style:{display:"flex"}},r.a.createElement(d.b,{to:"/cart"},r.a.createElement("div",{className:"view-cart"},r.a.createElement("i",{className:"fas fa-cart-plus"}),r.a.createElement("span",{className:"badge badge-danger ml-2"},this.props.cartItemTotal))),r.a.createElement("ul",{className:"pagination shadow-sm transparent rounded"},i.map((function(t,a){return r.a.createElement("li",{key:t,className:"page-item "},r.a.createElement("a",{className:"page-link text-secondary",href:"#name",onClick:function(){return e.paginate(t)}}," ",t))})))))),r.a.createElement(E.a,null,r.a.createElement(b.a,{md:"2"},r.a.createElement(y.a,{className:"shadow p-3 rounded mb-2 bg-light"},r.a.createElement(y.a.Body,null,r.a.createElement("div",null,r.a.createElement("h6",null,"Searched:"),this.state.searchKey?r.a.createElement(A.a,{variant:"warning",className:"text-muted mb-3",size:"sm"},this.state.searchKey," ",r.a.createElement(A.a,{variant:"danger",size:"xs",onClick:this.removeFilter,style:{cursor:"pointer"}},"X")):null),r.a.createElement("div",null,r.a.createElement("h6",null,"Filtered:"),this.state.filterBy?r.a.createElement(A.a,{variant:"warning",className:"text-muted",size:"sm"},this.state.filterBy," ",r.a.createElement(A.a,{variant:"danger",size:"xs",onClick:this.removeFilter,style:{cursor:"pointer"}},"X")):null),r.a.createElement("hr",null),r.a.createElement("h6",null,"Filter By"),r.a.createElement(N.a,{variant:"outline-danger",className:"mr-2 mb-2",name:"FairPrice",onClick:this.filterSupp,disabled:this.state.suppDisabled?"disabled":null},"FairPrice"),r.a.createElement(N.a,{variant:"outline-dark",className:"mb-2",name:"Cold Storage",onClick:this.filterSupp,disabled:this.state.suppDisabled?"disabled":null},"Cold Storage"),r.a.createElement("hr",null),r.a.createElement("h6",null,"Sort By Price"),r.a.createElement(N.a,{variant:"outline-danger",className:"mr-2 mb-2",id:"lowTog",name:"lowestToggle",onClick:this.showLowestHandler,disabled:this.state.suppDisabled?"disabled":null},r.a.createElement("i",{className:"fas fa-sort-down fa-2x"})),r.a.createElement(N.a,{variant:"outline-dark",className:"mb-2",id:"highTog",name:"highestToggle",onClick:this.showHighestHandler,disabled:this.state.suppDisabled?"disabled":null},r.a.createElement("i",{className:"fas fa-sort-up fa-2x"})),this.state.lowestToggle||this.state.highestToggle?r.a.createElement(A.a,{variant:"danger",className:"ml-2",onClick:this.clearSortHandler,style:{cursor:"pointer"}},"X"):null))),r.a.createElement(b.a,{md:"10"},r.a.createElement(E.a,{className:"row-cols-1 row-cols-md-3",style:{border:"solid 2px transparent"}},r.a.createElement("h6",null,"Hi in deploy ",this.state.searchError),c.map((function(t){return r.a.createElement(b.a,{key:t.itemID,md:"4"},r.a.createElement(y.a,{className:"mb-3 shadow mb-5 bg-white rounded",style:{minHeight:"24em"}},r.a.createElement(y.a.Img,{variant:"top",src:t.itemImgURL,height:"200px",style:{objectFit:"contain"}}),r.a.createElement(y.a.Body,{className:"text-sm"},t.itemName,r.a.createElement("div",null,t.itemUnit),r.a.createElement("div",null,"$",t.itemPrice),r.a.createElement("div",{className:"badge badge-dark"},r.a.createElement("a",{className:"text-white",href:t.itemOriURL},t.itemFrom))),r.a.createElement(y.a.Footer,{className:"text-right"},r.a.createElement("i",{className:"fas fa-cart-plus indi-cart",onClick:function(){return e.mainAddToCart(t)},id:t.itemID}))))}))))))))}}]),a}(n.Component),k=a(97),C=a.n(k),x=a(170),O=a(171),I=a.n(O),T=a(70),L="https://brewscanner.herokuapp.com/api";T.a.configure();var q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={totalCost:"0.00",order:""},e.removeItemFromCart=function(t){var a=t.quantity;e.props.removeItemCart(t);var n,r=e.state.totalCost-t.itemPrice;console.log("after remove",t.quantity),a>1?n=e.props.cart:1===t.quantity&&(n=e.props.cart.filter((function(e){return e.itemID!==t.itemID}))),e.setState({totalCost:r.toFixed(2),order:n})},e.submitTransactHandler=function(){var t=localStorage.getItem("token"),a=JSON.parse(localStorage.cart).belongsTo;console.log(a),f.a.post("".concat(L,"/transaction"),{orders:e.state.order,orderTotal:e.state.totalCost,transactionUserID:a},{headers:{"x-auth-token":t}}).then((function(t){console.log("order submitted to server"),e.clearCartHandler()})).catch((function(e){console.log(e)}))},e.clearCartHandler=function(){e.props.clearCart(),e.setState({totalCost:"0.00"})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.cart.map((function(e){return Number((e.itemPrice*e.quantity).toFixed(2))})).reduce((function(e,t){return e+t}),0);this.setState({totalCost:e.toFixed(2)}),this.setState({order:this.props.cart})}},{key:"handleToken",value:function(){var e=Object(x.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({token:t}),e.next=3,f.a.post("".concat(L,"/checkout"),{token:t});case 3:a=e.sent,"success"===a.data.status?Object(T.a)("Success! Check email for details",{type:"success"}):Object(T.a)("Ooops! It didn't go through",{type:"error"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(E.a,null,r.a.createElement(b.a,{md:"8"},r.a.createElement(y.a,{className:"bg-dark text-light mt-5"},r.a.createElement(y.a.Header,null,r.a.createElement("h4",null,"Cart Items"),r.a.createElement("span",{className:"badge badge-danger",style:{cursor:"pointer"},onClick:this.clearCartHandler},"Clear All"))),this.props.cart.map((function(t){return r.a.createElement(y.a,{key:t.itemID},r.a.createElement(y.a.Body,{key:t.itemID},r.a.createElement("strong",null,t.itemName," - ",t.itemUnit," "),r.a.createElement("small",{className:"text-muted"}," - $",t.itemPrice),r.a.createElement("p",{className:"mt-3"},r.a.createElement(A.a,{variant:"success"},"$",(t.quantity*t.itemPrice).toFixed(2))),r.a.createElement(A.a,{variant:"warning"},"Quantity: ",t.quantity,r.a.createElement("span",{className:"badge badge-danger ml-3",variant:"danger",onClick:function(){e.removeItemFromCart(t)},style:{cursor:"pointer"}},r.a.createElement("i",{className:"fas fa-trash-alt"})))))})),r.a.createElement(y.a,{className:"bg-dark text-light"},r.a.createElement(y.a.Footer,{className:"text-right"},r.a.createElement("h4",null,"Total Cost:",r.a.createElement("span",{className:"ml-2 text-warning"},"$",this.state.totalCost))))),r.a.createElement(b.a,{md:"4"},r.a.createElement("div",{className:"text-center my-5"},r.a.createElement(I.a,{stripeKey:"".concat("pk_test_51HMwJhKdu4ArMRBcAOdSSRTuO1o9t58YVpGzOJ05LIr0sj7ikkduU6H9NcfzCMxJAEWu42Ph79WAMMMq35CX1qFl00aGXRuvgZ"),token:this.handleToken,billingAddress:!0,shippingAddress:!0,amount:100*this.state.totalCost,orderTotal:this.state.order}),r.a.createElement("div",{className:"mt-2"},r.a.createElement(d.b,{to:"/",className:"btn btn-outline-success shadow-sm rounded submit-order",onClick:this.submitTransactHandler},"Submit Order")))))))}}]),a}(n.Component),U=a(67),H=a(332),F=a(329),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={fullName:"",birthDate:"",address:"",email:"",password:"",regError:""},e.changeHandler=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.childSignUpHandler=function(){e.state.password.length<5?e.setState({regError:"Minimum 5 characters required for Password"}):e.props.register(e.state),setTimeout((function(){e.setState({regError:""})}),3e3)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear()-18,s=t<10?"0".concat(t):t,l=a<10?"0".concat(a):a,o="".concat(n,"-").concat(l,"-").concat(s);return r.a.createElement("div",null,this.state.regError.length>0&&r.a.createElement(H.a,{variant:"danger"},this.state.regError),r.a.createElement(p.a,null,r.a.createElement(E.a,{className:"justify-content-md-center"},r.a.createElement(b.a,{md:"8"},r.a.createElement(E.a,{className:"mb-4 mt-4"},r.a.createElement("h1",null,"Registration")),r.a.createElement(F.a,null,r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Full Name"),r.a.createElement(F.a.Control,{name:"fullName",type:"text",placeholder:"John Doe",onChange:this.changeHandler,required:!0}),r.a.createElement("small",{className:"form-text text-muted"},"Required.")),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Date of Birth"),r.a.createElement(F.a.Control,{min:"1910-01-01",max:o,name:"birthDate",type:"date",onChange:this.changeHandler,required:!0}),r.a.createElement("small",{className:"form-text text-muted"},"Required.")),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Address"),r.a.createElement(F.a.Control,{name:"address",type:"text",placeholder:"79 Anson Rd",onChange:this.changeHandler,required:!0}),r.a.createElement("small",{className:"form-text text-muted"},"Required.")),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Email address"),r.a.createElement(F.a.Control,{name:"email",type:"email",placeholder:"johnny@gmail.com",onChange:this.changeHandler,required:!0}),r.a.createElement("small",{className:"form-text text-muted"},"Required.")),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Password"),r.a.createElement(F.a.Control,{name:"password",type:"password",onChange:this.changeHandler,required:!0}),r.a.createElement("small",{class:"form-text text-muted"},"Required. 5 characters minimum")),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(N.a,{variant:"dark",block:!0,onClick:this.childSignUpHandler}," ","Register")))))))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.changeHandler=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.childLoginHandler=function(){console.log(e.state),e.props.login(e.state)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-main"},r.a.createElement(p.a,null,r.a.createElement(E.a,{className:"justify-content-md-center"},r.a.createElement(b.a,{md:"5"},r.a.createElement(E.a,{className:"mb-4 mt-4"},r.a.createElement("h1",null,"Login")),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Email"),r.a.createElement(F.a.Control,{name:"email",type:"email",onChange:this.changeHandler})),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Password"),r.a.createElement(F.a.Control,{name:"password",type:"password",onChange:this.changeHandler})),r.a.createElement(E.a,null,r.a.createElement(N.a,{className:"mt-3",variant:"warning",block:!0,onClick:this.childLoginHandler}," ","Login"))))))}}]),a}(n.Component),Y=a(45),X=(a(317),"https://brewscanner.herokuapp.com/api"),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:"",address:""},e.getUser=function(t){f.a.get("".concat(X,"/auth/user"),{headers:{"x-auth-token":t}}).then((function(t){e.setState({user:t.data.user,address:t.data.user.address})})).catch((function(e){console.log(e)}))},e.changeHandler=function(t){e.setState({address:t.target.value})},e.editUserHandler=function(){var t=localStorage.getItem("token");console.log("t",t),f.a.put("".concat(X,"/auth/user"),{address:e.state.address},{headers:{"x-auth-token":t}}).then((function(a){console.log("done"),e.getUser(t)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&(Object(Y.decode)(e)?this.getUser(e):localStorage.removeItem("token"))}},{key:"render",value:function(){var e,t,a,n;if(this.state.user.birthDate){var s=new Date(this.state.user.birthDate);e=s.toDateString().substring(4),t=s.getDate(),a=s.toLocaleString("default",{month:"short"}),n=s.getFullYear(),e="".concat(t," ").concat(a," ").concat(n)}return console.log(n),console.log(e),r.a.createElement("div",{className:"element-outer"},r.a.createElement(p.a,null,r.a.createElement(E.a,{className:"justify-content-md-center"},r.a.createElement(b.a,{md:"5"},r.a.createElement(E.a,{className:"mb-4"},r.a.createElement("div",{className:"element"},this.state.user.fullName),r.a.createElement("div",{className:"element"},"Born ",e),r.a.createElement("div",{className:"element"},this.state.user.email),r.a.createElement("div",{className:"element"},this.state.user.address)),r.a.createElement(E.a,{className:"mb-4"},r.a.createElement(F.a.Label,null,"Update Address?"),r.a.createElement(F.a.Control,{name:"address",type:"text",value:this.state.address,onChange:this.changeHandler}),r.a.createElement(N.a,{className:"mt-3 shadow-sm rounded",variant:"warning",block:!0,onClick:this.editUserHandler},"Update"))))))}}]),a}(n.Component),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={orderHistory:[]},e.getTransactions=function(){var t=localStorage.getItem("token");f.a.get("".concat("https://brewscanner.herokuapp.com/api","/transaction"),{headers:{"x-auth-token":t}}).then((function(t){console.log(t.data),e.setState({orderHistory:t.data.finalT})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTransactions()}},{key:"render",value:function(){return r.a.createElement("div",{style:{background:"darkslategrey",height:"89vh"}},r.a.createElement(p.a,null,r.a.createElement("h3",{className:"text-center text-white pt-5 pb-3"},"Order History"),this.state.orderHistory.length>0?this.state.orderHistory.map((function(e,t){return r.a.createElement(y.a,{key:t,className:"mb-3"},r.a.createElement(y.a.Header,null,r.a.createElement(A.a,{variant:"success",style:{fontSize:"15px",marginRight:"5px"}},"Paid on ",e.createdAt.substring(0,10)),r.a.createElement(A.a,{variant:"danger",style:{fontSize:"15px"}},"Total : $",e.orderTotal.toFixed(2))),r.a.createElement(y.a.Body,null,e.orders.map((function(e,t){return r.a.createElement("li",{key:t},e.itemName," - ",e.itemUnit,"  ",r.a.createElement("span",{className:"badge badge-dark"},e.quantity," x $",e.itemPrice.toFixed(2)," per unit")," ")}))))})):null))}}]),a}(n.Component),D=a(331),J=a(330),z=a(174),M=a.n(z);a(318);var Q=function(e){var t=e.user,a=e.logout;return r.a.createElement(D.a,{bg:"dark",expand:"lg",variant:"dark"},r.a.createElement(D.a.Brand,{href:"/"},r.a.createElement("img",{src:M.a,id:"navlogo",alt:"",height:"40px",width:"40px"}),"BrewScanner"),r.a.createElement(D.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(J.a,{className:"mr-auto"},r.a.createElement(d.b,{className:"nav-link",to:"/"},r.a.createElement("i",{className:"fas fa-home navbar-fa"}))),r.a.createElement(J.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{className:"nav-link nav-view-cart",to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"})),r.a.createElement(d.b,{to:"/orderHistory",className:"nav-link"},r.a.createElement("i",{class:"fas fa-history"})),r.a.createElement(d.b,{to:"/editprofile",className:"nav-link"},r.a.createElement("i",{className:"fas fa-user-circle navbar-fa"})),r.a.createElement(d.b,{to:"/editprofile",className:"nav-link"},r.a.createElement("div",{className:"nav-items-hover"},t.fullName)),r.a.createElement(d.b,{onClick:a,to:"/logout",className:"nav-link"},r.a.createElement("div",{className:"nav-items-hover"},"Log Out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/login",className:"nav-link"},r.a.createElement("div",{className:"nav-items-hover"},"Log In"))))))},W=(a(319),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).mount=!0,e.state={isAbove18:!1,qod:"",qodAuthor:""},e.changeHandler=function(t){e.setState({isAbove18:!e.state.isAbove18})},e.getQOD=function(){f.a.get("http://quotes.rest/qod.json?category=inspire").then((function(t){e.mount&&e.setState({qod:t.data.contents.quotes[0].quote,qodAuthor:t.data.contents.quotes[0].author})})).catch((function(e){return console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getQOD()}},{key:"componentWillUnmount",value:function(){this.mount=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-landing"},r.a.createElement("div",{className:"landing-bg"},r.a.createElement("div",{className:"typewriter"},r.a.createElement("h1",null,"Scanning for your cheapest brew! ",r.a.createElement("i",{className:"fas fa-glass-cheers"}))),r.a.createElement("div",{className:"none-type"},r.a.createElement("h1",null,"Scanning for your cheapest brew! ",r.a.createElement("i",{className:"fas fa-glass-cheers"}))),r.a.createElement(y.a,{className:"qod-card text-dark text-left"},r.a.createElement(y.a.Header,null,r.a.createElement("i",{className:"fas fa-quote-left"})),r.a.createElement(y.a.Body,{className:"cardbody"},r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,this.state.qod))),r.a.createElement(y.a.Footer,{className:"text-right"},r.a.createElement("footer",{className:"blockquote-footer"},this.state.qodAuthor,r.a.createElement("span",{className:"tss"},r.a.createElement("img",{src:"https://theysaidso.com/branding/theysaidso.png",height:"20",width:"20",alt:"theysaidso.com"}),r.a.createElement("a",{href:"https://theysaidso.com",title:"Powered by quotes from theysaidso.com"},"They Said So\xae"))))),r.a.createElement("section",{className:"arrow animate__animated animate__fadeInDown"},r.a.createElement("a",{href:"#age-sect-id",className:""},r.a.createElement("i",{className:"fas fa-angle-down fa-5x"})))),r.a.createElement("section",{className:"age-section",id:"age-sect-id"},r.a.createElement("div",{className:"badge badge-danger py-2 px-2 checkbox"},r.a.createElement("input",{type:"checkbox",name:"checkAge",onChange:this.changeHandler})," Are you above 18?"),r.a.createElement("div",{id:"eligible-reg"},this.state.isAbove18?r.a.createElement("a",{href:"/register",className:"mt-3 animate__animated animate__slideInUp btn btn-outline-warning"},"Sign Up"):null)))}}]),a}(n.Component)),K=a(178);var V=function(e){var t=e.component,a=e.isAuth,n=Object(K.a)(e,["component","isAuth"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(h.a,{to:"/landing"})}}))},Z=(a(320),"https://brewscanner.herokuapp.com/api"),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={items:[],errorMessage:null,isAuth:!1,user:null,cart:[],cartItem:0},e.addToCart=function(t){var a,n,r=Object(o.a)(e.state.cart),s=r.findIndex((function(e){return e.itemID===t.itemID}));-1!==s?r[s].quantity+=1:(t.quantity=1,r.push(t)),n=0,r.forEach((function(e){n+=e.quantity})),a=n;var l=Object(Y.decode)(localStorage.token),c=JSON.stringify({belongsTo:l.user.id,cart:r}),i=a;localStorage.setItem("cart",c),localStorage.setItem("cartItemTotal",i),e.setState({cart:r,cartItem:i})},e.removeToCart=function(t){var a=Object(o.a)(e.state.cart),n=a.findIndex((function(e){return e.itemID===t.itemID}));if(-1!==n){a[n].quantity>1?a[n].quantity-=1:a.splice(n,1);var r=0;a.forEach((function(e){r+=e.quantity})),console.log(a);var s=Object(Y.decode)(localStorage.token),l=JSON.stringify({belongsTo:s.user.id,cart:a});localStorage.setItem("cart",l),localStorage.setItem("cartItemTotal",r),e.setState({cart:a,cartItem:r})}},e.clearTransaction=function(){localStorage.removeItem("cart"),localStorage.removeItem("cartItemTotal"),e.setState({cart:[],cartItem:0})},e.getUserProfile=function(t){f.a.get("".concat(Z,"/auth/user"),{headers:{"x-auth-token":t}}).then((function(t){if(null!=localStorage.getItem("cart")){var a=JSON.parse(localStorage.cart),n=0;console.log(a.cart.length);for(var r=0;r<a.cart.length;r++)n+=a.cart[r].quantity;localStorage.setItem("cartItemTotal",n),a.belongsTo==t.data.user._id.toString()&&e.setState({isAuth:!0,user:t.data.user,cart:a.cart,cartItem:n})}else localStorage.removeItem("cart"),localStorage.removeItem("cartItemTotal"),e.setState({isAuth:!0,user:t.data.user,cartItem:0})})).catch((function(e){}))},e.loginHandler=function(t){f.a.post("".concat(Z,"/auth/login"),t).then((function(a){console.log("cred",t),console.log("res data",a.data),localStorage.setItem("token",a.data.token),e.getUserProfile(a.data.token),e.setState({isAuth:!0})})).catch((function(t){e.setState({isAuth:!1,errorMessage:t.response.data.message}),setTimeout((function(){e.setState({errorMessage:null})}),3e3)}))},e.registerHandler=function(t){f.a.post("".concat(Z,"/auth/register"),t).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),e.getUserProfile(t.data.token),e.setState({isAuth:!0})})).catch((function(t){e.setState({isAuth:!1,errorMessage:t.response.data.message}),setTimeout((function(){e.setState({errorMessage:null})}),3e3)}))},e.logoutHandler=function(t){t.preventDefault(),console.log("loggedout"),e.setState({items:[],errorMessage:null,isAuth:!1,user:null}),localStorage.removeItem("token")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&(Object(Y.decode)(e)?this.getUserProfile(e):localStorage.removeItem("token"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isAuth,n=t.user,s=t.errorMessage;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"overall"},r.a.createElement(Q,{user:n,logout:this.logoutHandler}),s&&r.a.createElement(H.a,{variant:"danger"},s),r.a.createElement(h.d,null,r.a.createElement(V,{exact:!0,path:"/",isAuth:a,cartItemTotal:this.state.cartItem,cart:this.state.cart,addToCart:this.addToCart,component:w}),r.a.createElement(V,{exact:!0,path:"/cart",isAuth:a,removeItemCart:this.removeToCart,clearCart:this.clearTransaction,cart:this.state.cart,addToCart:this.addToCart,component:q}),r.a.createElement(V,{exact:!0,path:"/editprofile",isAuth:a,component:G}),r.a.createElement(V,{exact:!0,path:"/orderHistory",isAuth:a,component:P}),r.a.createElement(h.b,{path:"/register",exact:!0,render:function(){return a?r.a.createElement(h.a,{to:"/"}):r.a.createElement(j,{register:e.registerHandler})}}),r.a.createElement(h.b,{path:"/login",exact:!0,render:function(){return a?r.a.createElement(h.a,{to:"/"}):r.a.createElement(B,{login:e.loginHandler})}}),r.a.createElement(h.b,{path:"/landing",exact:!0,render:function(){return a?r.a.createElement(h.a,{to:"/"}):r.a.createElement(W,null)}}))),r.a.createElement("footer",{className:"site-footer"},"Made with ",r.a.createElement("i",{className:"fas fa-heart"})," - ",r.a.createElement("a",{href:"https://www.linkedin.com/in/andrea-lau-al/"},"Andi L")," ",r.a.createElement("a",{href:"https://github.com/andicodetrf/BrewScanner"},r.a.createElement("i",{className:"fab fa-github"}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(321);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.10b8016d.chunk.js.map